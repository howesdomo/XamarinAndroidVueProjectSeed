(function(t){function e(e){for(var a,n,l=e[0],r=e[1],c=e[2],u=0,v=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&v.push(o[n][0]),o[n]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,l=1;l<i.length;l++){var r=i[l];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},o={app:0},s=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"4a1a":function(t,e,i){"use strict";i("8690")},"4ffd":function(t,e){t.exports="data:image/png;base64,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"},"56d7":function(t,e,i){"use strict";i.r(e);var a=i("2b0e"),o=i("8c4f"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-background d-flex  align-center "},[i("v-card",{staticClass:" login-card mx-auto",staticStyle:{"box-shadow":"none"},attrs:{color:"rgba(255,255,255,.0)",width:"300px"}},[i("v-card-title",{staticClass:"d-flex  align-center justify-center "},[i("img",{staticClass:"login-logo"})]),i("v-card-text",{staticClass:"d-flex  align-center justify-center "},[i("v-card",{staticStyle:{color:"#6c6c6c",background:"rgba(255,255,255,.2)",width:"300px"}},[i("v-card-title",[i("p",{staticClass:"text-h4  text--primary"},[t._v("门店管理")])]),i("v-card-subtitle",{staticClass:"text-right"},[t._v("v 0.0.1")]),i("v-divider"),i("v-card-text",[i("v-form",{staticStyle:{width:"229px"}},[i("v-text-field",{attrs:{label:"工号",placeholder:"请输入用户名",outlined:"",dense:""},model:{value:t.loginUserName,callback:function(e){t.loginUserName=e},expression:"loginUserName"}}),i("v-text-field",{attrs:{label:"密码",placeholder:"请输入密码",outlined:"",dense:"",type:"password"},model:{value:t.loginPassWord,callback:function(e){t.loginPassWord=e},expression:"loginPassWord"}}),i("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary",type:"button"},on:{click:function(e){return t.submit()}}},[t._v("\n                            登录\n                        ")])],1),i("div",{staticClass:"login-support d-flex  align-center justify-center "},[t._v("\n                        技术支持:"),i("br"),t._v("\n                        广州市雄冠条码实业有限公司\n                    ")])],1)],1)],1)],1)],1)},n=[],l=(i("a481"),{name:"login",data:function(){return{loginUserName:"",loginPassWord:"",errorMessage:""}},methods:{submit:function(){this.$router.replace({name:"home"})}}}),r=l,c=(i("4a1a"),i("2877")),d=Object(c["a"])(r,s,n,!1,null,"3b56d292",null),u=d.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ma-0 pa-0",staticStyle:{height:"100%"},attrs:{id:"home"}},[a("v-navigation-drawer",{attrs:{permanent:"","expand-on-hover":"",app:""}},[a("v-list",[a("v-list-item",{staticClass:"px-2",attrs:{"two-line":""}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:i("4ffd")}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h6"},[t._v(" UserAccount ")]),a("v-list-item-subtitle",[t._v("UserName")])],1)],1)],1),a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-group",{attrs:{"prepend-icon":"mdi-storefront","no-action":"",color:"orange"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v("门店")])]},proxy:!0}])},[a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.activeTab("查询")}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("票券要货申请单清单")])],1)],1),a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.newTab()}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("票券要货申请单")])],1)],1),a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.activeTab("图表")}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("图表")])],1)],1)],1)],1)],1),a("v-main",{staticClass:"d-flex",staticStyle:{height:"inherit"}},[a("v-container",{staticClass:"d-flex",staticStyle:{width:"100%","max-width":"100%",height:"100%"}},[a("v-card",{staticClass:"mx-auto",staticStyle:{width:"100%"},attrs:{flat:"",outlined:"",tile:""}},[a("v-tabs",{model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},t._l(t.items,function(e){return a("v-tab",{key:e.key},[t._v("\n            "+t._s(e.tab)+"\n            "),a("v-icon",{attrs:{right:"",small:""},on:{click:function(i){return t.closeTab(e)}}},[t._v("mdi-close")])],1)}),1),a("v-tabs-items",{model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},t._l(t.items,function(e){return a("v-tab-item",{key:e.key},[a("v-divider",{staticClass:"mx-auto"}),"查询"===e.tab?a(e.content,{tag:"component",style:"height:"+(t.fullHeight-75)+"px",on:{orderTab:t.orderTab}}):"新增"===e.tab||"修改"===e.tab?a(e.content,{tag:"component",style:"height:"+(t.fullHeight-75)+"px",attrs:{order:e.order}}):a(e.content,{tag:"component",style:"height:"+(t.fullHeight-75)+"px"})],1)}),1)],1)],1)],1)],1)},m=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticStyle:{"flex-wrap":"nowrap"},attrs:{"no-gutters":""}},[i("v-col",{staticClass:"flex-grow-0 flex-shrink-0",attrs:{cols:"3"}},[i("v-card",{staticClass:"fill-height",attrs:{dense:"",tile:""}},[i("v-toolbar",{attrs:{color:"info",dense:"",flat:"",tile:"",dark:""}},[t._v("\n                用户列表 ("+t._s(t.userList.length)+")\n                "),i("v-spacer"),i("v-btn",{attrs:{icon:"",small:""}},[i("v-icon",{attrs:{small:""},on:{click:function(e){return t.createItem()}}},[t._v("mdi-plus")])],1)],1),i("v-list",{staticClass:"pa-0 ma-0 overflow-y-auto",staticStyle:{height:"calc(100% - 45px)"},attrs:{dense:""}},[i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.userSelectItem,callback:function(e){t.userSelectItem=e},expression:"userSelectItem"}},t._l(t.userList,function(e){return i("v-list-item",{key:e.ID,on:{click:function(i){return t.activeItem(e)}}},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.LoginAccount)}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(e.UserName)}})],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.editItem(e)}}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)],1)],1)}),1)],1)],1)],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{staticClass:"flex-grow-0 flex-shrink-1",attrs:{cols:"10"}},[i("v-list",{staticClass:"overflow-y-auto fill-height"},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(t.userSelected.LoginAccount)}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.userSelected.UserName)}})],1),i("v-list-item-action",[i("v-list-item-action-text",{staticClass:"primary--text"},[t._v("更新时间")]),t._v(t._s(t.formateDate(t.userSelected.LastUpdateDatetime))+"\n                ")],1)],1),i("v-divider",{staticClass:"mx-4"}),i("v-subheader",{staticClass:"primary--text",attrs:{dense:""}},[t._v("角色")]),i("v-list-item",[i("v-item-group",t._l(t.userSelected.RoleList,function(e){return i("v-item",{key:e.ID},[i("v-chip",{staticClass:"ma-2"},[t._v(t._s(e.RoleName))])],1)}),1)],1),i("v-divider",{staticClass:"mx-4"}),i("v-subheader",{staticClass:"primary--text",attrs:{dense:""}},[t._v("组织")]),i("v-list-item",[i("v-treeview",{staticClass:"text-body-2",staticStyle:{width:"100%"},attrs:{activatable:"",dense:"",items:t.locationTree,open:t.open},on:{"update:open":function(e){t.open=e}}})],1)],1),i("v-dialog",{attrs:{"max-width":"640px",scrollable:"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{dense:"",tile:""}},[i("v-toolbar",{attrs:{dense:"",dark:"",tile:"",color:"primary"}},[t._v("\n                    "+t._s(t.formTitle)+" "),i("v-spacer"),i("v-btn",{attrs:{small:"",icon:""},on:{click:t.close}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)],1),i("v-card-text",[i("v-container",[i("v-row",{staticClass:"mt-1",attrs:{dense:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",label:"账号",readonly:null!==t.editedItem.ID},model:{value:t.editedItem.LoginAccount,callback:function(e){t.$set(t.editedItem,"LoginAccount",e)},expression:"editedItem.LoginAccount"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",label:"名称"},model:{value:t.editedItem.UserName,callback:function(e){t.$set(t.editedItem,"UserName",e)},expression:"editedItem.UserName"}})],1),i("v-col",{attrs:{cols:"12"}},[i("label",{staticStyle:{"font-size":"inherit"},attrs:{dense:""}},[t._v("角色")]),i("v-chip-group",{attrs:{multiple:"","active-class":"primary--text"},model:{value:t.editedItem.Roles,callback:function(e){t.$set(t.editedItem,"Roles",e)},expression:"editedItem.Roles"}},t._l(t.roleList,function(e){return i("v-chip",{key:e.ID,attrs:{value:e.ID}},[t._v("\n                                        "+t._s(e.RoleName)+"\n                                    ")])}),1)],1),i("v-col",{attrs:{cols:"12"}},[i("label",{staticStyle:{"font-size":"inherit"},attrs:{dense:""}},[t._v("组织")]),i("v-card",{attrs:{outlined:"",tile:""}},[i("v-treeview",{staticClass:"overflow-y-auto fill-height",staticStyle:{height:"200px"},attrs:{dense:"",tile:"",activatable:"",selectable:"",items:t.editedLocationItems},model:{value:t.editedItem.Locations,callback:function(e){t.$set(t.editedItem,"Locations",e)},expression:"editedItem.Locations"}})],1)],1),i("v-col",{attrs:{cols:"12"}},[i("label",{staticStyle:{"font-size":"inherit"},attrs:{dense:""}},[t._v("有效性")]),i("v-switch",{attrs:{inset:"",dense:"",label:t.editedItem.Effectiveness?"生效":"失效",color:t.editedItem.Effectiveness?"green":"red"},model:{value:t.editedItem.Effectiveness,callback:function(e){t.$set(t.editedItem,"Effectiveness",e)},expression:"editedItem.Effectiveness"}})],1)],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-btn",{attrs:{color:"blue darken-1",left:"",text:""},on:{click:t.test}},[t._v("密码重置")]),i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("保存")],1)],1)],1)],1),i("v-snackbar",{attrs:{timeout:t.snackbartimeout,color:"primary"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{icon:"",color:"blue"},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[i("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.snackbartext)+"\n            ")])],1)],1)},h=[];i("ac6a"),i("3b2b");function p(t,e){/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in i)if(new RegExp("(".concat(a,")")).test(e)){var o=i[a]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?o:g(o))}return e}function g(t){return("00"+t).substr(t.length)}var b=i("0063"),y={name:"user",data:function(){return{open:[],userList:[],roleList:[],locationTree:[],userSelectItem:null,userSelected:new Object,editedIndex:-1,editedItem:{LoginAccount:"",UserName:""},editedLocationItems:[],defaultItem:{ID:null,LoginAccount:"",UserName:"",Effectiveness:!0},dialog:!1,snackbar:!1,snackbartext:"",snackbartimeout:2e3}},created:function(){this.initView()},computed:{formTitle:function(){return-1===this.editedIndex?"新增用户":"修改用户"}},methods:{test:function(){alert(this.snackbartext)},getUserList:function(){return this.axios.post("/api/Security/GetUserForALL")},getRoleList:function(){return this.axios.post("/api/Security/GetRoleForALL")},getLocationList:function(){return this.axios.post("/api/Security/GetLocationForALL")},getUserByID:function(t){return this.axios.post("/api/Security/GetUserByID",t)},saveUser:function(t){return this.axios.post("/api/Security/SaveUser",t)},initView:function(){var t=this;this.getUserList().then(function(e){var i=e.data;i.Success&&(t.userList=i.Data,null!=t.userList&&t.userList.length>0&&(t.userSelectItem=0,t.activeItem(t.userList[0])))})},activeItem:function(t){var e=this;this.open=new Array,this.axios.all([this.getUserByID(t),this.getLocationList()]).then(this.axios.spread(function(t,i){var a=[],o=[],s=i.data;s.Success&&(o=s.Data);var n=t.data;if(n.Success){e.userSelected=n.Data;var l=n.Data.LocationList;l.forEach(function(t){var i=b.from(o).firstOrDefault(function(e){return e.ID==t.LocationID},null);a.push(i),e.getLocationParent(i.ParentID,o,a)})}e.locationTree=e.listToTree(a,null),o.forEach(function(t){e.open.push(t.ID)})}))},getLocationParent:function(t,e,i){var a=this,o=b.from(e).where(function(e){return e.ID==t}).toArray();o.forEach(function(t){var o=b.from(i).firstOrDefault(function(e){return e.ID==t.ID},null);null==o&&i.push(t),null!=t.ParentID&&a.getLocationParent(t.ParentID,e,i)})},formateDate:function(t){if(null==t)return"";var e=new Date(t);return p(e,"YYYY-MM-dd hh:mm")},createItem:function(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},editItem:function(t){this.editedIndex=this.userList.indexOf(t);var e=this;this.axios.all([this.getRoleList(),this.getUserByID(t),this.getLocationList()]).then(this.axios.spread(function(t,i,a){var o=t.data;o.Success&&(e.roleList=o.Data);var s=a.data;s.Success&&(e.editedLocationItems=e.listToTree(s.Data,null));var n=i.data;if(n.Success){e.editedItem=n.Data;var l=[];null!=n.Data.LocationList&&n.Data.LocationList.forEach(function(t){l.push(t.LocationID)}),e.editedItem.Locations=l;var r=[];null!=n.Data.RoleList&&n.Data.RoleList.forEach(function(t){r.push(t.RoleID)}),e.editedItem.Roles=r}})),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.$nextTick(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1})},save:function(){var t=Object.assign({},this.editedItem);t.CreatorID="60B6C4AF-6702-4B35-878B-FF63FDB0657F";var e=-1===this.editedIndex;e&&(t.ID=null),t.UserRoleTable=[],t.Roles.forEach(function(e){t.UserRoleTable.push({ID:e})}),t.UserLocationTable=[],t.Locations.forEach(function(e){t.UserLocationTable.push({ID:e})});var i=this;this.saveUser(t).then(function(t){var e=t.data;e.Success?(i.snackbartext="保存成功。",i.snackbar=!0,i.initView(),i.close()):(i.snackbartext=e.Message,i.snackbar=!0)})},listToTree:function(t,e){var i={};return t.forEach(function(t){t.id=t.ID,t.name=t.LocationCode+"-"+t.LocationName,t.open=!0,t.children=[],i[t.id]=t}),t.filter(function(t){return t.ParentID===e||(i[t.ParentID].children.push(t),!1)})}}},x=y,C=Object(c["a"])(x,f,h,!1,null,"13f54734",null),k=C.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticStyle:{"flex-wrap":"nowrap"},attrs:{"no-gutters":""}},[i("v-col",{staticClass:"flex-grow-0 flex-shrink-0",attrs:{cols:"3"}},[i("v-card",{staticStyle:{height:"100%"},attrs:{tile:""}},[i("v-toolbar",{attrs:{color:"info",dense:"",flat:"",tile:"",dark:""}},[i("v-toolbar-title",[t._v("角色列表 ("+t._s(t.roleList.length)+")")]),i("v-spacer"),i("v-btn",{attrs:{icon:""}},[i("v-icon",[t._v("mdi-plus")])],1)],1),i("v-list",{attrs:{dense:""}},[i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.roelSelectItem,callback:function(e){t.roelSelectItem=e},expression:"roelSelectItem"}},t._l(t.roleList,function(e){return i("v-list-item",{key:e.ID},[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.RoleName))])],1)],1)}),1)],1)],1)],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{staticClass:"flex-grow-0 flex-shrink-1",staticStyle:{"min-width":"100px"},attrs:{cols:"10"}},[i("v-card",{staticClass:"pa-2",staticStyle:{height:"100%"},attrs:{dense:"",tile:""}},[t._v("\n            I'm 5 column wide and I shrink if there's not enough space\n        ")])],1)],1)},I=[],A={name:"role",data:function(){return{roleList:new Array,roelSelectItem:null}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var t=this;this.axios.post("/api/Security/GetRoleForALL").then(function(e){var i=e.data;i.Success&&(t.roleList=i.Data)})}}},L=A,S=Object(c["a"])(L,w,I,!1,null,"2180cf7a",null),_=S.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"fill-height",attrs:{cols:"3"}},[a("v-card",{staticClass:"pa-0 fill-height",attrs:{dense:"",tile:""}},[a("v-toolbar",{staticStyle:{"font-size":"14px"},attrs:{color:"orange",dark:"",dense:"",flat:"",tile:""}},[t._v("\n        按下列任何标准进行搜索\n      ")]),a("v-card-text",{staticClass:"overflow-y-auto",staticStyle:{height:"calc(100% - 48px)"}},[a("div",{},[a("label",{staticStyle:{color:"#999"}},[t._v("分支机构")]),a("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"auto",transition:"slide-y-transition","nudge-top":"-45"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"yellow lighten-5",attrs:{dense:"",outlined:"",readonly:"","hide-details":"auto"},model:{value:t.selected.LocationName,callback:function(e){t.$set(t.selected,"LocationName",e)},expression:"selected.LocationName"}},"v-text-field",o,!1),i))]}}]),model:{value:t.menuLocation,callback:function(e){t.menuLocation=e},expression:"menuLocation"}},[a("v-card",{staticStyle:{overflow:"auto"},attrs:{height:"300"}},[a("v-treeview",{attrs:{dense:"",tile:"",hoverable:"",activatable:"",items:t.editedLocationList,active:t.editedLocationActive},on:{"update:active":[function(e){t.editedLocationActive=e},function(e){t.menuLocation=!1}]}})],1)],1)],1),a("div",{staticClass:"pt-5"},[a("label",{staticStyle:{color:"#999"}},[t._v(" 单据日期")]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":38,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-row",[a("v-col",{attrs:{cols:"1"}},[a("div",{staticStyle:{"margin-top":"10px"}},[a("label",{staticStyle:{color:"#999"}},[t._v("从")])])]),a("v-col",{attrs:{cols:"11"}},[a("v-text-field",t._g(t._b({staticClass:"yellow lighten-5",attrs:{outlined:"",readonly:"",dense:"","hide-details":"auto"},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}},"v-text-field",o,!1),i))],1)],1)]}}]),model:{value:t.menuFrom,callback:function(e){t.menuFrom=e},expression:"menuFrom"}},[a("v-date-picker",{attrs:{"no-title":"","month-format":t.fmtMonth,"header-date-format":t.fmtHeaderDate,"title-date-format":t.fmtTitleDate},on:{input:function(e){t.menuFrom=!1}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":38,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-row",[a("v-col",{attrs:{cols:"1"}},[a("div",{staticStyle:{"margin-top":"10px"}},[a("label",{staticStyle:{color:"#999"}},[t._v("至")])])]),a("v-col",{attrs:{cols:"11"}},[a("v-text-field",t._g(t._b({staticClass:"yellow lighten-5",attrs:{outlined:"",readonly:"",dense:"","hide-details":"auto"},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}},"v-text-field",o,!1),i))],1)],1)]}}]),model:{value:t.menuTo,callback:function(e){t.menuTo=e},expression:"menuTo"}},[a("v-date-picker",{attrs:{"no-title":"","month-format":t.fmtMonth,"header-date-format":t.fmtHeaderDate,"title-date-format":t.fmtTitleDate},on:{input:function(e){t.menuTo=!1}},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1)],1),a("div",{staticClass:"pt-5"},[a("label",{staticStyle:{color:"#999"}},[t._v(" 单据编号")]),a("v-text-field",{staticClass:"yellow lighten-5",attrs:{dense:"",outlined:"","hide-details":"auto"}})],1),a("div",{staticClass:"pt-5"},[a("label",{staticStyle:{color:"#999"}},[t._v(" 状态")]),a("v-select",{staticClass:"yellow lighten-5",attrs:{items:t.selectItems,dense:"",outlined:"","hide-details":"auto","menu-props":{bottom:!0,offsetY:!0}},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}})],1),a("div",{staticClass:"pt-5"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{block:"",color:"orange",dark:"",outlined:"",rounded:""}},[t._v("重置")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{block:"",color:"orange",dark:"",rounded:""},on:{click:function(e){return t.btnSearch()}}},[t._v("搜索")])],1)],1)],1)])],1)],1),a("v-col",{staticClass:"fill-height",attrs:{cols:"3"}},[a("v-card",{staticClass:"pl-2 fill-height",attrs:{dense:"",tile:""}},[a("v-toolbar",{staticStyle:{"font-size":"14px"},attrs:{dense:"",flat:"",tile:""}},[t._v("\n        共 "+t._s(t.orderItems.length)+" 项\n      ")]),a("v-divider",{attrs:{color:"orange"}}),a("v-card-text",{staticClass:"overflow-y-auto pa-0 ma-0",staticStyle:{height:"calc(100% - 48px)"}},[a("v-list",{staticClass:"pa-0 ma-0",attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.orderSelectedItem,callback:function(e){t.orderSelectedItem=e},expression:"orderSelectedItem"}},t._l(t.orderItems,function(e){return a("v-list-item",{key:e.OrderNr,staticStyle:{width:"100%","margin-bottom":"5px","margin-top":"5px"},on:{click:function(i){return t.activeItem(e)}}},[a("v-list-item-content",[a("v-row",[a("v-col",{attrs:{cols:"1"}},["1"==e.Status?a("div",{staticStyle:{"background-color":"forestgreen",width:"5px",height:"100%"}}):a("div",{staticStyle:{"background-color":"orange",width:"5px",height:"100%"}})]),a("v-col",{attrs:{cols:"10"}},[a("v-list-item-title",{staticClass:"subtitle-1 font-weight-bold"},[t._v("\n                      "+t._s(e.OrderNr)+"\n                    ")]),a("v-list-item-subtitle",[t._v("\n                      "+t._s(e.FromLocation)),a("v-icon",{attrs:{dense:""}},[t._v("mdi-arrow-right")]),t._v("\n                      "+t._s(e.ToLocation)+"\n                    ")],1)],1)],1)],1)],1)}),1)],1)],1)],1)],1),a("v-col",{staticClass:"fill-height",attrs:{cols:"6"}},[a("v-card",{staticClass:"pl-2 fill-height",attrs:{dense:"",tile:""}},[a("v-toolbar",{attrs:{dense:"",flat:"",tile:""}},[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("label",{staticClass:"text-h5 font-weight-bold"},[t._v("\n              "+t._s(t.orderActiveItem.OrderNr)+"\n            ")])]),a("v-col",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{cols:"3"}},[a("div",{staticClass:"caption font-italic"},[t._v("2021-09-29")])])],1)],1),a("v-divider",{attrs:{color:"orange"}}),a("v-card-text",{staticStyle:{height:"calc(100% - 48px)"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("label",{staticStyle:{color:"#999"}},[t._v("申请")]),a("br"),a("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n              "+t._s(t.orderActiveItem.ToLocation)+" ")]),a("br"),a("label",{staticStyle:{color:"#999"}},[t._v(" 出货")]),a("br"),a("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n              "+t._s(t.orderActiveItem.FromLocation)+"\n            ")])]),a("v-col",{attrs:{cols:"3"}},["1"==t.orderActiveItem.Status?a("v-img",{staticStyle:{width:"100px"},attrs:{src:i("f5cb")}}):t._e()],1),a("v-col",{attrs:{cols:"5"}},[t._v("\n            开单"),a("br"),a("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n              张大三 2021-09-29 09:25 ")]),a("br"),t._v("\n            审单"),a("br"),a("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n              李大伟 2021-09-29 09:25\n            ")])])],1),t.orderActiveItem.Remark?a("v-row",{staticStyle:{height:"50px"}},[a("v-col",{attrs:{cols:"12"}},[a("v-alert",{staticClass:"ma-0",attrs:{border:"left",dense:"",outlined:"",color:"green"}},[t._v("\n              "+t._s(t.orderActiveItem.Remark)+"\n            ")])],1)],1):t._e(),a("v-row",{staticStyle:{height:"100%"}},[a("v-col",{attrs:{cols:"12"}},[a("v-list",{staticClass:"pa-0 ma-0 yellow lighten-5 overflow-y-auto",style:"min-height: calc(100% - "+(t.orderActiveItem.Remark?195:144)+"px); height: calc(100% - "+(t.orderActiveItem.Remark?195:144)+"px); max-height: calc(100% - "+(t.orderActiveItem.Remark?195:144)+"px); ",attrs:{dense:""}},[t._l(t.orderActiveItem.List,function(e,i){return[a("v-list-item",{key:e.Code},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.Code)}}),a("v-list-item-subtitle",[a("label",{staticStyle:{color:"#00bfa5 !important"}},[t._v("\n                        "+t._s(e.Name)+"\n                      ")])])],1),a("v-list-item-action",[a("label",{staticClass:"font-weight-black text-h5"},[t._v("\n                      "+t._s(e.Qty)+"\n                    ")])])],1),a("v-divider",{key:e.Code+i,staticClass:"mx-2"})]})],2)],1)],1),a("v-row",{staticStyle:{height:"60px",position:"sticky",bottom:"5px"}},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{height:"40px","line-height":"40px",width:"100%"}},[a("div",{staticStyle:{"background-color":"#444",color:"#fff","border-radius":"20px","padding-left":"20px",float:"left",width:"calc(100% - 85px)",height:"40px","line-height":"40px"}},[t._v("\n                共\n                "),a("label",{staticClass:"font-weight-black text-h6"},[t._v("\n                  "+t._s(void 0==t.orderActiveItem.List?0:t.orderActiveItem.List.length)+" ")]),t._v("项, 总数"),a("label",{staticClass:"font-weight-black text-h6"},[t._v("\n                  "+t._s(t.orderActiveTotal)+"\n                ")]),a("v-btn",{staticStyle:{float:"right",height:"100%","margin-left":"10px","background-color":"white"},attrs:{rounded:"",outlined:"",color:"orange"}},[t._v("复制")]),a("v-btn",{staticStyle:{float:"right",height:"100%"},attrs:{rounded:"",dark:"",depressed:"",color:"orange"},on:{click:function(e){return t.editOrder()}}},[t._v("修改")])],1),a("v-btn",{staticStyle:{float:"right",height:"100%"},attrs:{rounded:"",dark:"",depressed:"",color:"orange"},on:{click:function(e){return t.createOrder()}}},[t._v("新增")])],1)])],1)],1)],1)],1)],1)},T=[],N=(i("7514"),{name:"search",data:function(){return{active:[],fullHeight:document.documentElement.clientHeight,menuFrom:!1,menuTo:!1,menuLocation:!1,dateTo:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateFrom:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),selectItems:["全部","未发货","已发货"],selectedItem:"",editedLocationList:[],editedLocationItem:{LocationName:""},editedLocationID:"",editedLocationActive:[],locationData:[],orderItems:[{OrderNr:"MR21070600001",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"1",Remark:"这里是备注内容，敬请留意。",List:[{Code:"1",Name:"五仁月饼劵",Qty:30},{Code:"2",Name:"双黄白莲月饼劵",Qty:30}]},{OrderNr:"MR21070600002",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"1",List:[{Code:"1",Name:"五仁月饼劵",Qty:12},{Code:"2",Name:"双黄白莲月饼劵",Qty:25},{Code:"3",Name:"蛋黄白莲月饼劵",Qty:25},{Code:"4",Name:"纯流心奶黄月饼劵",Qty:25},{Code:"5",Name:"流星月礼盒劵",Qty:25},{Code:"6",Name:"冰皮流心套装劵",Qty:25},{Code:"7",Name:"纯流心奶黄月饼劵",Qty:25},{Code:"8",Name:"流星月礼盒劵",Qty:25},{Code:"9",Name:"冰皮流心套装劵",Qty:25}]},{OrderNr:"MR21070600003",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"0",List:[{Code:"1",Name:"五仁月饼劵",Qty:12},{Code:"2",Name:"双黄白莲月饼劵",Qty:25},{Code:"3",Name:"蛋黄白莲月饼劵",Qty:25},{Code:"4",Name:"纯流心奶黄月饼劵",Qty:25}]},{OrderNr:"MR21070600004",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"1",List:[{Code:"1",Name:"五仁月饼劵",Qty:12},{Code:"2",Name:"双黄白莲月饼劵",Qty:25},{Code:"3",Name:"蛋黄白莲月饼劵",Qty:25},{Code:"4",Name:"纯流心奶黄月饼劵",Qty:25},{Code:"6",Name:"冰皮流心套装劵",Qty:25}]},{OrderNr:"MR21070600005",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"1",List:[{Code:"3",Name:"蛋黄白莲月饼劵",Qty:25},{Code:"4",Name:"纯流心奶黄月饼劵",Qty:25},{Code:"5",Name:"流星月礼盒劵",Qty:25},{Code:"6",Name:"冰皮流心套装劵",Qty:25}]},{OrderNr:"MR21070600006",FromLocation:"集团公司",ToLocation:"汇桥店",Status:"0",List:[{Code:"1",Name:"五仁月饼劵",Qty:12},{Code:"2",Name:"双黄白莲月饼劵",Qty:25},{Code:"3",Name:"蛋黄白莲月饼劵",Qty:25},{Code:"6",Name:"冰皮流心套装劵",Qty:25}]}],orderSelectedItem:null,orderActiveItem:{List:[]},orderActiveTotal:0}},created:function(){this.activeItem(this.orderItems[0]),this.orderSelectedItem=0,this.initView()},methods:{btnSearch:function(){alert(this.active)},updateTreeItem:function(){var t=this;this.editedLocationList.forEach(function(e){e.ID==t.editedLocationItem?t.editedLocationName=e.Name:(alert(e.ID),alert(t.editedLocationItem))})},getLocationList:function(){return this.axios.post("/api/Security/GetLocationForALL")},listToTree:function(t,e){var i={};return t.forEach(function(t){t.id=t.ID,t.name=t.LocationCode+"-"+t.LocationName,t.open=!0,t.children=[],i[t.id]=t}),t.filter(function(t){return t.ParentID===e||(i[t.ParentID].children.push(t),!1)})},initView:function(){var t=this;this.getLocationList().then(function(e){var i=e.data;i.Success&&(t.locationData=i.Data,t.editedLocationList=t.listToTree(i.Data,null))})},activeItem:function(t){var e=this;e.orderActiveItem=t,e.orderActiveTotal=0,void 0!=t.List&&t.List.forEach(function(t){e.orderActiveTotal+=parseInt(t.Qty)})},createOrder:function(){this.$emit("orderTab",{OrderNr:"新的"})},editOrder:function(){this.$emit("orderTab",Object.assign({},this.orderActiveItem))},fmtMonth:function(t){var e=new Date(t),i=e.getMonth()+1;return i},fmtTitleDate:function(t){return this.dateFormat("yyyy-MM-dd",new Date(t))},fmtHeaderDate:function(t){return this.dateFormat("yyyy-MM",new Date(t))},dateFormat:function(t,e){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in i)if(new RegExp("(".concat(a,")")).test(t)){var o=i[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:("00"+o).substr(o.length))}return t}},computed:{selected:function(){if(!this.editedLocationActive.length)return{LocationName:""};var t=this.editedLocationActive[0];return this.locationData.find(function(e){return e.ID===t})}}}),O=N,Q=(i("dea8"),Object(c["a"])(O,D,T,!1,null,"7c3b7dd3",null)),E=Q.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"fill-height",attrs:{cols:"3"}},[i("v-card",{staticClass:"pa-0 fill-height",attrs:{dense:"",tile:""}},[i("v-toolbar",{attrs:{color:"text-h5 font-weight-bold",dense:"",flat:"",tile:""}},[t._v("\n        "+t._s(t.editOrder.OrderNr)+"\n      ")]),i("v-card-text",{staticClass:"overflow-y-auto",staticStyle:{height:"calc(100% - 48px)"}},[i("div",{},[i("label",{staticStyle:{color:"#999"}},[t._v(" 单据日期")]),i("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"yellow lighten-5",attrs:{outlined:"",readonly:"",dense:"","hide-details":"auto"},model:{value:t.orderDate,callback:function(e){t.orderDate=e},expression:"orderDate"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[i("v-date-picker",{attrs:{"no-title":"","month-format":t.fmtMonth,"header-date-format":t.fmtHeaderDate,"title-date-format":t.fmtTitleDate},on:{input:function(e){t.menuDate=!1}},model:{value:t.orderDate,callback:function(e){t.orderDate=e},expression:"orderDate"}})],1)],1),i("div",{staticClass:"pt-5"},[i("label",{staticStyle:{color:"#999"}},[t._v(" 申请")]),i("br"),i("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n            "+t._s(t.editOrder.ToLocation)+"\n          ")])]),i("div",{staticClass:"pt-5"},[i("label",{staticStyle:{color:"#999"}},[t._v(" 出货")]),i("br"),i("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n            "+t._s(t.editOrder.FromLocation)+"\n          ")])]),i("div",{staticClass:"pt-5"},[i("label",{staticStyle:{color:"#999"}},[t._v(" 备注")]),i("v-textarea",{staticClass:"yellow lighten-5",attrs:{dense:"",outlined:"","hide-details":"auto"}})],1),i("div",{staticClass:"pt-5"},[t._v("\n          开单"),i("br"),i("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n            张大三 2021-09-29 09:25 ")]),i("br"),t._v("\n          审单"),i("br"),i("label",{staticClass:"subtitle-2 font-weight-bold",staticStyle:{color:"black"}},[t._v("\n            李大伟 2021-09-29 09:25\n          ")])])])],1)],1),i("v-col",{staticClass:"fill-height pl-3 pt-3",attrs:{cols:"9"}},[i("v-container",{staticClass:"fill-height"},[i("v-row",{staticClass:"fill-height pb-13"},[i("v-col",{staticClass:"fill-height pa-0 ma-0",attrs:{cols:"7"}},[i("v-list",{staticClass:"pa-0 ma-0 overflow-y-auto yellow lighten-5",staticStyle:{height:"100%"},attrs:{dense:""}},[t._l(t.editOrder.List,function(e,a){return[i("v-list-item",{key:e.Code},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.Code)}}),i("v-list-item-subtitle",[i("label",{staticStyle:{color:"#00bfa5 !important"}},[t._v("\n                      "+t._s(e.Name)+"\n                    ")])])],1),i("v-list-item-action",[i("v-card",{staticClass:"d-flex flex-row align-center yellow lighten-5",attrs:{flat:"",tile:""}},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",icon:"",color:"error",outlined:""},on:{click:function(i){return t.minusQty(e)}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-minus ")])],1),i("v-text-field",{staticClass:"yellow lighten-5 text-h5 font-weight-bold",staticStyle:{width:"100px","text-align":"right"},attrs:{type:"number",outlined:"",dense:"",flat:"",reverse:"","hide-details":"auto"},model:{value:e.Qty,callback:function(i){t.$set(e,"Qty",i)},expression:"item.Qty"}}),i("v-btn",{staticClass:"ml-2",attrs:{"x-small":"",icon:"",dark:"",color:"success",outlined:""},on:{click:function(i){return t.plusQty(e)}}},[i("v-icon",[t._v(" mdi-plus")])],1),i("v-btn",{staticClass:"ml-2",attrs:{small:"",icon:""},on:{click:function(e){return t.delList(a)}}},[i("v-icon",[t._v(" mdi-delete ")])],1)],1)],1)],1),i("v-divider",{key:e.Code+a,staticClass:"mx-2"})]})],2)],1),i("v-col",{staticClass:"fill-height ma-0 pa-0 px-3",attrs:{cols:"5"}},[i("v-card",{staticClass:"fill-height",attrs:{dense:"",tile:"",outlined:""}},[i("v-toolbar",{staticStyle:{"font-size":"14px"},attrs:{color:"orange",dark:"",dense:"",flat:"",outlined:"",tile:""}},[t._v("\n              明细登记区\n            ")]),i("v-card-text",{staticClass:"overflow-y-auto",staticStyle:{height:"calc(100% - 48px)"}},[t.isSearchCode?i("div",[i("div",{},[i("label",{staticStyle:{color:"#999"}},[t._v("票券编号")]),i("v-card",{staticClass:"d-flex flex-row",attrs:{flat:"",tile:""}},[i("v-text-field",{staticClass:"yellow lighten-5",attrs:{dense:"",outlined:"","hide-details":"auto"},on:{input:function(e){return t.equalSearch()}},model:{value:t.equalCondition,callback:function(e){t.equalCondition=e},expression:"equalCondition"}}),i("v-btn",{staticClass:"ml-1 mt-0",attrs:{dark:"",color:"orange",rounded:""},on:{click:function(e){t.isSearchCode=!1}}},[t._v("\n                      拣选\n                    ")])],1),t._v("\n                  "+t._s(t.equalItem.Name)+"\n                ")],1),i("div",{staticClass:"pt-5"},[i("label",{staticStyle:{color:"#999"}},[t._v("数量")]),i("v-card",{staticClass:"d-flex flex-row align-center",attrs:{flat:"",tile:""}},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",icon:"",color:"error",outlined:""},on:{click:function(e){t.equalItem.Qty--}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-minus ")])],1),i("v-text-field",{staticClass:"yellow lighten-5 text-h5 font-weight-bold",staticStyle:{width:"100px","text-align":"right"},attrs:{type:"number",outlined:"",dense:"",flat:"",reverse:"","hide-details":"auto"},model:{value:t.equalItem.Qty,callback:function(e){t.$set(t.equalItem,"Qty",e)},expression:"equalItem.Qty"}}),i("v-btn",{staticClass:"ml-2",attrs:{"x-small":"",icon:"",dark:"",color:"success",outlined:""},on:{click:function(e){t.equalItem.Qty++}}},[i("v-icon",[t._v(" mdi-plus")])],1)],1)],1),i("div",{staticClass:"pt-5"},[i("v-row",[i("v-col",{attrs:{cols:"7"}},[i("v-btn",{attrs:{block:"",color:"orange",dark:"",rounded:""},on:{click:function(e){return t.addItem()}}},[t._v("加入清单")])],1),i("v-col",{attrs:{cols:"5"}},[i("v-btn",{attrs:{block:"",color:"orange",dark:"",outlined:"",rounded:""}},[t._v("取消")])],1)],1)],1)]):t._e(),t.isSearchCode?t._e():i("div",{staticClass:"fill-height"},[i("v-text-field",{staticClass:"yellow lighten-5",attrs:{dense:"",outlined:"","hide-details":"auto",placeholder:"请输入关键字"},on:{input:function(e){return t.likeSearch()}},model:{value:t.likeCondition,callback:function(e){t.likeCondition=e},expression:"likeCondition"}}),i("div",{staticClass:"py-2 ma-0 fill-height",staticStyle:{height:"calc(100% - 78px)"}},[i("v-list",{staticClass:"pa-0 ma-0 fill-height overflow-y-auto",attrs:{dense:""}},[t._l(t.likeList,function(e,a){return[i("v-list-item",{key:e.Code},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.Code)}}),i("v-list-item-subtitle",[i("label",{staticStyle:{color:"#00bfa5 !important"}},[t._v("\n                              "+t._s(e.Name)+"\n                            ")])])],1),i("v-list-item-action",[i("v-card",{staticClass:"d-flex flex-row align-center pa-0 ma-0",attrs:{flat:"",dense:"",tile:""}},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",icon:"",color:"error",outlined:""},on:{click:function(i){return t.minusQty2(e)}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-minus ")])],1),i("v-text-field",{staticClass:"yellow lighten-5 pa-0",staticStyle:{width:"100px","text-align":"right"},attrs:{type:"number",outlined:"",dense:"",flat:"",reverse:"","hide-details":"auto"},model:{value:e.Qty,callback:function(i){t.$set(e,"Qty",i)},expression:"item.Qty"}}),i("v-btn",{staticClass:"ml-2",attrs:{"x-small":"",icon:"",dark:"",color:"success",outlined:""},on:{click:function(i){return t.plusQty(e)}}},[i("v-icon",[t._v(" mdi-plus")])],1)],1)],1)],1),i("v-divider",{key:e.Code+a,staticClass:"mx-2"})]})],2)],1),i("div",{staticStyle:{height:"50px",position:"sticky"}},[i("v-row",[i("v-col",{attrs:{cols:"7"}},[i("v-btn",{attrs:{block:"",color:"orange",dark:"",rounded:""},on:{click:function(e){return t.addList()}}},[t._v("加入清单")])],1),i("v-col",{attrs:{cols:"5"}},[i("v-btn",{attrs:{block:"",color:"orange",dark:"",outlined:"",rounded:""},on:{click:function(e){t.isSearchCode=!0}}},[t._v("取消")])],1)],1)],1)],1)])],1)],1)],1),i("v-row",{staticStyle:{height:"60px",position:"sticky",bottom:"5px"}},[i("v-col",{staticClass:"pl-0",attrs:{cols:"12"}},[i("div",{staticStyle:{height:"40px","line-height":"40px"}},[i("div",{staticStyle:{"background-color":"#444",color:"#fff","border-radius":"20px","padding-left":"20px",float:"left",width:"100%",height:"40px","line-height":"40px"}},[t._v("\n              共\n              "),i("label",{staticClass:"font-weight-black text-h6"},[t._v("\n                "+t._s(void 0==t.order.List?0:t.order.List.length)+" ")]),t._v("项, 总数"),i("label",{staticClass:"font-weight-black text-h6"},[t._v("\n                "+t._s(t.sumList())+"\n              ")]),i("v-btn",{staticStyle:{float:"right",height:"100%"},attrs:{rounded:"",dark:"",depressed:"",color:"orange"},on:{click:function(e){return t.save()}}},[t._v("保存")]),i("v-btn",{staticStyle:{float:"right",height:"100%","background-color":"white","margin-right":"10px"},attrs:{rounded:"",outlined:"",color:"red"}},[t._v("删除")])],1)])])],1)],1)],1)],1)},F=[],P={data:function(){return{isSearchCode:!0,menuDate:!1,orderDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),displayName:"(名称)",displayQty:0,selectItems:["广汽集团公司","美的集团公司","集团公司","徐福记集团","华为集团"],editOrder:{OrderNr:"",FromLocation:"",ToLocation:"",List:[]},selectedItem:"",likeCondition:"",likeList:[],equalCondition:"",equalItem:{Code:"",Name:"",Qty:"NaN"},defItem:{Code:"",Name:"",Qty:"NaN"}}},props:["order"],mounted:function(){this.editOrder=Object.assign({},this.order)},methods:{save:function(){alert(" ^_^ 保存功能未完待继~~")},minusQty:function(t){t.Qty>1&&t.Qty--},minusQty2:function(t){t.Qty>1?t.Qty--:t.Qty="NaN"},plusQty:function(t){"NaN"==t.Qty&&(t.Qty=0),t.Qty++},likeSearch:function(){var t=this,e={Type:"Like",Content:this.likeCondition};this.axios.post("/api/Information/GetItemByCondition",e).then(function(e){var i=e.data;i.Success?t.likeList=i.Data:t.likeList=[]})},equalSearch:function(){var t=this,e={Type:"Equal",Content:this.equalCondition};this.axios.post("/api/Information/GetItemByCondition",e).then(function(e){var i=e.data;i.Success&&1==i.Data.length?(t.equalItem=i.Data[0],t.equalItem.Qty=1):t.equalItem=Object.assign({},t.defItem)})},sumList:function(){var t=0;return this.editOrder.List.forEach(function(e){"NaN"!=e.Qty&&e.Qty>0&&(t+=parseInt(e.Qty))}),t},addItem:function(){""!=this.equalItem.Name&&"NaN"!=this.equalItem.Qty&&this.equalItem.Qty>0&&(this.editOrder.List.push(Object.assign({},this.equalItem)),this.equalCondition="",this.equalItem=Object.assign({},this.defItem))},addList:function(){var t=this;this.likeList.forEach(function(e){"NaN"!=e.Qty&&e.Qty>0&&t.editOrder.List.push(e)}),this.likeCondition="",this.likeList=[],this.isSearchCode=!0},delList:function(t){this.editOrder.List.splice(t,1)},fmtMonth:function(t){var e=new Date(t),i=e.getMonth()+1;return i},fmtTitleDate:function(t){return this.dateFormat("yyyy-MM-dd",new Date(t))},fmtHeaderDate:function(t){return this.dateFormat("yyyy-MM",new Date(t))},dateFormat:function(t,e){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in i)if(new RegExp("(".concat(a,")")).test(t)){var o=i[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:("00"+o).substr(o.length))}return t}}},R=P,j=(i("c94f"),Object(c["a"])(R,M,F,!1,null,"707de002",null)),B=j.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"pa-2",attrs:{dense:"",tile:"",flat:""}},[i("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"3"}},[i("v-card",{staticClass:"pa-1",attrs:{dense:"",tile:"",outlined:""}},[i("v-text-field",{staticClass:"yellow lighten-5",attrs:{outlined:"",dense:"","hide-details":"auto"},on:{input:function(e){return t.getTableData()}},model:{value:t.tableName,callback:function(e){t.tableName=e},expression:"tableName"}}),i("v-card-text",{staticClass:"overflow-y-auto"},[i("ul",{style:"height: calc(100%- 190 px) "},t._l(t.tableObject,function(e,a){return i("li",{key:a},[i("div",{staticClass:"title",on:{click:function(i){return t.showValue(a,e)}}},[t._v(t._s(a))])])}),0)])],1)],1),i("v-col",{attrs:{cols:"9"}},[i("v-card",{staticClass:"fill-height pa-1 ml-2",attrs:{tile:"",dense:"",outlined:""}},[i("div",{style:{width:"100%",height:"100%"},attrs:{id:"myChart"}})])],1)],1)],1)},U=[],q={name:"ecu",data:function(){return{tableName:"",tableObject:{},chartData:{}}},methods:{getTable:function(){return this.axios.post("/api/ECU/GetTabelObject",{TN:this.tableName})},getTableData:function(){var t=this;this.getTable().then(function(e){var i=e.data;i.Success&&(t.tableObject=i.Data)})},showValue:function(t,e){var i=this.$echarts.init(document.getElementById("myChart")),a=[],o=[];e.forEach(function(t){a.push(t.DateTime),o.push(t.TimeStamp2)}),i.setOption({title:{text:t},tooltip:{},xAxis:{data:a},yAxis:{},series:[{name:"销量",type:"bar",data:o}]}),this.chartData=e}}},Y=q,W=Object(c["a"])(Y,H,U,!1,null,null,null),X=W.exports,V={name:"home",data:function(){return{fullHeight:document.documentElement.clientHeight,mini:!0,currentItem:null,items:[],tmpOrder:null}},created:function(){this.fetchData()},mounted:function(){var t=this;window.onresize=function(){setTimeout(function(){t.refresh()},400)}},methods:{refresh:function(){this.fullHeight=document.documentElement.clientHeight},fetchData:function(){null==this.fullHeight&&(this.fullHeight=document.documentElement.clientHeight)},newTab:function(){this.orderTab({OrderNr:"新的"})},orderTab:function(t){for(var e,i=this,a=!0,o=0;o<this.items.length;o++)if(this.items[o].key==t.OrderNr){e=o,a=!1;break}a&&("新的"==t.OrderNr?this.items.push({tab:"新增",key:"新的",content:Object.assign({},B),order:Object.assign({ToLocation:"汇侨店",FromLocation:"集团公司",List:[]},t)}):this.items.push({tab:"修改",key:t.OrderNr,content:Object.assign({},B),order:Object.assign({},t)}),e=this.items.length-1),this.$nextTick(function(){i.currentItem=e})},activeTab:function(t){for(var e,i=this,a=!0,o=0;o<this.items.length;o++)if(this.items[o].tab==t){e=o,a=!1;break}if(a){switch(t){case"用户":this.items.push({tab:t,key:t,content:k});break;case"角色":this.items.push({tab:t,key:t,content:_});break;case"查询":this.items.push({tab:t,key:t,content:E});break;case"图表":this.items.push({tab:t,key:t,content:X});break}e=this.items.length-1}this.$nextTick(function(){i.currentItem=e})},closeTab:function(t){var e=this;this.items.splice(this.items.indexOf(t),1),0==this.items.length&&this.$nextTick(function(){e.currentItem=0})}}},G=V,Z=Object(c["a"])(G,v,m,!1,null,"5c4f41e8",null),K=Z.exports;a["default"].use(o["a"]);var J=new o["a"]({mode:"hash",routes:[{path:"/",name:"login",component:u},{path:"/home",name:"home",component:K}]}),z=i("ce5b"),$=i.n(z);i("5363"),i("bf40");a["default"].use($.a);var tt={icons:{iconfont:"mdi"}},et=new $.a(tt),it=i("bc3a"),at=i.n(it),ot=i("2106"),st=i.n(ot);a["default"].use(st.a,at.a),at.a.defaults.withCredentials=!0,at.a.defaults.crossDomain=!0,at.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var nt=at.a.create({timeout:3e3,responseType:"json",responseEncoding:"utf8"}),lt=nt,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{staticStyle:{height:"100%"},attrs:{id:"app"}},[i("router-view")],1)},ct=[],dt={name:"app"},ut=dt,vt=(i("6047"),Object(c["a"])(ut,rt,ct,!1,null,"daa99a62",null)),mt=vt.exports,ft=i("313e");lt.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a["default"].config.productionTip=!0,a["default"].prototype.$axios=lt,a["default"].prototype.$echarts=ft,new a["default"]({vuetify:et,router:J,render:function(t){return t(mt)}}).$mount("#app")},6047:function(t,e,i){"use strict";i("fe4b")},8018:function(t,e,i){},8690:function(t,e,i){},"9b19":function(t,e,i){},c94f:function(t,e,i){"use strict";i("9b19")},dea8:function(t,e,i){"use strict";i("8018")},f5cb:function(t,e,i){t.exports=i.p+"static/img/sender.7b20f52a.png"},fe4b:function(t,e,i){}});
//# sourceMappingURL=app.230ad20e.js.map